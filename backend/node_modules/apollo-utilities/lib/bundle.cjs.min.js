exports.__esModule=!0,exports.addTypenameToDocument=function(n){return(0,e.visit)(h(n),{SelectionSet:{enter:function(e,n,r){if(!r||"OperationDefinition"!==r.kind){var i=e.selections;if(i){var o=i.some(function(e){return l(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))});if(!o){var u=r;if(!(l(u)&&u.directives&&u.directives.some(function(e){return"export"===e.name.value})))return(0,t.__assign)({},e,{selections:i.concat([S])})}}}}}})},exports.argumentsObjectFromField=f,exports.assign=x,exports.buildQueryFromSelectionSet=function(n){if("query"===k(n).operation)return n;return(0,e.visit)(n,{OperationDefinition:{enter:function(e){return(0,t.__assign)({},e,{operation:"query"})}}})},exports.checkDocument=h,exports.cloneDeep=function(e){return function e(n,t){switch(A.call(n)){case"[object Array]":if(t.has(n))return t.get(n);var r=n.slice(0);return t.set(n,r),r.forEach(function(n,i){r[i]=e(n,t)}),r;case"[object Object]":if(t.has(n))return t.get(n);var i=Object.create(Object.getPrototypeOf(n));return t.set(n,i),Object.keys(n).forEach(function(r){i[r]=e(n[r],t)}),i;default:return n}}(e,new Map)},exports.createFragmentMap=O,exports.getDefaultValues=function(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var n=e.variableDefinitions.filter(function(e){var n=e.defaultValue;return n}).map(function(e){var n=e.variable,t=e.defaultValue,r={};return u(r,n.name,t),r});return x.apply(void 0,[{}].concat(n))}return{}},exports.getDirectiveInfoFromField=function(e,n){if(e.directives&&e.directives.length){var t={};return e.directives.forEach(function(e){t[e.name.value]=f(e,n)}),t}return null},exports.getDirectiveNames=m,exports.getDirectivesFromDocument=function(n,r){var i;return h(r),E((0,e.visit)(r,{SelectionSet:{enter:function(e,r,o,u){var a=u.join("-");if(!i||a===i||!a.startsWith(i)){if(e.selections){var c=e.selections.filter(function(e){return I(n,e)});return w(n,e,!1)&&(i=a),(0,t.__assign)({},e,{selections:c})}return null}}}}))},exports.getEnv=J,exports.getFragmentDefinition=D,exports.getFragmentDefinitions=b,exports.getFragmentQueryDocument=function(e,r){var i=r,o=[];e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw new n.InvariantError(5);"FragmentDefinition"===e.kind&&o.push(e)}),void 0===i&&((0,n.invariant)(1===o.length,6),i=o[0].name.value);return(0,t.__assign)({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:i}}]}}].concat(e.definitions)})},exports.getInclusionDirectives=g,exports.getMainDefinition=k,exports.getMutationDefinition=function(e){h(e);var t=e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})[0];return(0,n.invariant)(t,7),t},exports.getOperationDefinition=y,exports.getOperationDefinitionOrDie=function(e){var t=y(e);return(0,n.invariant)(t,11),t},exports.getOperationName=function(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null},exports.getQueryDefinition=function(e){var t=y(e);return(0,n.invariant)(t&&"query"===t.operation,12),t},exports.getStoreKeyName=c,exports.graphQLResultHasError=function(e){return e.errors&&e.errors.length},exports.hasClientExports=function(e){return e&&p(["client"],e)&&p(["export"],e)},exports.hasDirectives=p,exports.isDevelopment=Q,exports.isEnv=P,exports.isEqual=function(e,n){return(0,i.default)(e,n)},exports.isField=l,exports.isIdValue=function(e){return e&&"id"===e.type&&"boolean"==typeof e.generated},exports.isInlineFragment=s,exports.isJsonValue=function(e){return null!=e&&"object"==typeof e&&"json"===e.type},exports.isNumberValue=function(e){return["IntValue","FloatValue"].indexOf(e.kind)>-1},exports.isProduction=L,exports.isScalarValue=function(e){return["StringValue","BooleanValue","EnumValue"].indexOf(e.kind)>-1},exports.isTest=T,exports.maybeDeepFreeze=function(e){if(Q()||T()){var n="function"==typeof Symbol&&"string"==typeof Symbol("");if(!n)return function e(n){Object.freeze(n);Object.getOwnPropertyNames(n).forEach(function(t){null===n[t]||"object"!=typeof n[t]&&"function"!=typeof n[t]||Object.isFrozen(n[t])||e(n[t])});return n}(e)}return e},exports.mergeDeep=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return z(e)},exports.mergeDeepArray=z,exports.removeArgumentsFromDocument=N,exports.removeClientSetsFromDocument=function(n){h(n);var t=j([{test:function(e){return"client"===e.name.value},remove:!0}],n);t&&(t=(0,e.visit)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet){var n=e.selectionSet.selections.every(function(e){return l(e)&&"__typename"===e.name.value});if(n)return null}}}}));return t},exports.removeConnectionDirectiveFromDocument=function(e){return j([_],h(e))},exports.removeDirectivesFromDocument=j,exports.removeFragmentSpreadFromDocument=q,exports.resultKeyNameFromField=function(e){return e.alias?e.alias.value:e.name.value},exports.shouldInclude=function(e,t){void 0===t&&(t={});return g(e.directives).every(function(e){var r=e.directive,i=e.ifArgument,o=!1;return"Variable"===i.value.kind?(o=t[i.value.name.value],(0,n.invariant)(void 0!==o,1)):o=i.value.value,"skip"===r.name.value?!o:o})},exports.storeKeyNameFromField=function(e,n){var t=null;e.directives&&(t={},e.directives.forEach(function(e){t[e.name.value]={},e.arguments&&e.arguments.forEach(function(r){var i=r.name,o=r.value;return u(t[e.name.value],i,o,n)})}));var r=null;e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(function(e){var t=e.name,i=e.value;return u(r,t,i,n)}));return c(e.name.value,r,t)},exports.stripSymbols=function(e){return JSON.parse(JSON.stringify(e))},exports.toIdValue=function(e,n){void 0===n&&(n=!1);return(0,t.__assign)({type:"id",generated:n},"string"==typeof e?{id:e,typename:void 0}:e)},exports.tryFunctionOrLogError=function(e){try{return e()}catch(e){console.error&&console.error(e)}},exports.valueFromNode=function e(n,t){void 0===t&&(t=v);switch(n.kind){case"Variable":return t(n);case"NullValue":return null;case"IntValue":return parseInt(n.value,10);case"FloatValue":return parseFloat(n.value);case"ListValue":return n.values.map(function(n){return e(n,t)});case"ObjectValue":for(var r={},i=0,o=n.fields;i<o.length;i++){var u=o[i];r[u.name.value]=e(u.value,t)}return r;default:return n.value}},exports.valueToObjectRepresentation=u,exports.variablesInOperation=function(e){var n=new Set;if(e.variableDefinitions)for(var t=0,r=e.variableDefinitions;t<r.length;t++){var i=r[t];n.add(i.variable.name.value)}return n},exports.warnOnceInDevelopment=function(e,n){void 0===n&&(n="warn");L()||R[e]||(T()||(R[e]=!0),"error"===n?console.error(e):console.warn(e))},exports.canUseWeakMap=void 0;var e=require("graphql/language/visitor"),n=require("ts-invariant"),t=require("tslib"),r=o(require("fast-json-stable-stringify")),i=o(require("lodash.isequal"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,i){if(function(e){return"IntValue"===e.kind}(r)||function(e){return"FloatValue"===e.kind}(r))e[t.value]=Number(r.value);else if(function(e){return"BooleanValue"===e.kind}(r)||function(e){return"StringValue"===e.kind}(r))e[t.value]=r.value;else if(function(e){return"ObjectValue"===e.kind}(r)){var o={};r.fields.map(function(e){return u(o,e.name,e.value,i)}),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(r)){var a=(i||{})[r.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(r))e[t.value]=r.values.map(function(e){var n={};return u(n,t,e,i),n[t.value]});else if(function(e){return"EnumValue"===e.kind}(r))e[t.value]=r.value;else{if(!function(e){return"NullValue"===e.kind}(r))throw new n.InvariantError(17);e[t.value]=null}}var a=["connection","include","skip","client","rest","export"];function c(e,n,t){if(t&&t.connection&&t.connection.key){if(t.connection.filter&&t.connection.filter.length>0){var i=t.connection.filter?t.connection.filter:[];i.sort();var o=n,u={};return i.forEach(function(e){u[e]=o[e]}),t.connection.key+"("+JSON.stringify(u)+")"}return t.connection.key}var c=e;if(n){var f=(0,r.default)(n);c+="("+f+")"}return t&&Object.keys(t).forEach(function(e){-1===a.indexOf(e)&&(t[e]&&Object.keys(t[e]).length?c+="@"+e+"("+JSON.stringify(t[e])+")":c+="@"+e)}),c}function f(e,n){if(e.arguments&&e.arguments.length){var t={};return e.arguments.forEach(function(e){var r=e.name,i=e.value;return u(t,r,i,n)}),t}return null}function l(e){return"Field"===e.kind}function s(e){return"InlineFragment"===e.kind}function v(e){throw new n.InvariantError(18)}function m(n){var t=[];return(0,e.visit)(n,{Directive:function(e){t.push(e.name.value)}}),t}function p(e,n){return m(n).some(function(n){return e.indexOf(n)>-1})}function d(e){var n=e.name.value;return"skip"===n||"include"===n}function g(e){return e?e.filter(d).map(function(e){var t=e.arguments;e.name.value;(0,n.invariant)(t&&1===t.length,2);var r=t[0];(0,n.invariant)(r.name&&"if"===r.name.value,3);var i=r.value;return(0,n.invariant)(i&&("Variable"===i.kind||"BooleanValue"===i.kind),4),{directive:e,ifArgument:r}}):[]}function x(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.forEach(function(n){null!=n&&Object.keys(n).forEach(function(t){e[t]=n[t]})}),e}function h(e){(0,n.invariant)(e&&"Document"===e.kind,8);var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new n.InvariantError(9);return e});return(0,n.invariant)(t.length<=1,10),e}function y(e){return h(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function b(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function D(e){(0,n.invariant)("Document"===e.kind,13),(0,n.invariant)(e.definitions.length<=1,14);var t=e.definitions[0];return(0,n.invariant)("FragmentDefinition"===t.kind,15),t}function k(e){var t;h(e);for(var r=0,i=e.definitions;r<i.length;r++){var o=i[r];if("OperationDefinition"===o.kind){var u=o.operation;if("query"===u||"mutation"===u||"subscription"===u)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw new n.InvariantError(16)}function O(e){void 0===e&&(e=[]);var n={};return e.forEach(function(e){n[e.name.value]=e}),n}function F(e,n,t){var r=0;return e.forEach(function(t,i){n.call(this,t,i,e)&&(e[r++]=t)},t),e.length=r,e}var S={kind:"Field",name:{kind:"Name",value:"__typename"}};function E(e){return function e(n,t){return n.selectionSet.selections.every(function(n){return"FragmentSpread"===n.kind&&e(t[n.name.value],t)})}(y(e)||D(e),O(b(e)))?null:e}function V(e){return function(n){return e.some(function(e){return e.name&&e.name===n.name.value||e.test&&e.test(n)})}}function j(n,t){var r=Object.create(null),i=[],o=Object.create(null),u=[],a=E((0,e.visit)(t,{Variable:{enter:function(e,n,t){"VariableDefinition"!==t.kind&&(r[e.name.value]=!0)}},Field:{enter:function(e){if(n&&e.directives&&(n.some(function(e){return e.remove})&&e.directives&&e.directives.some(V(n))))return e.arguments&&e.arguments.forEach(function(e){"Variable"===e.value.kind&&i.push({name:e.value.name.value})}),e.selectionSet&&function e(n){var t=[];n.selections.forEach(function(n){(l(n)||s(n))&&n.selectionSet?e(n.selectionSet).forEach(function(e){return t.push(e)}):"FragmentSpread"===n.kind&&t.push(n)});return t}(e.selectionSet).forEach(function(e){u.push({name:e.name.value})}),null}},FragmentSpread:{enter:function(e){o[e.name.value]=!0}},Directive:{enter:function(e){if(V(n)(e))return null}}}));return a&&F(i,function(e){return!r[e.name]}).length&&(a=N(i,a)),a&&F(u,function(e){return!o[e.name]}).length&&(a=q(u,a)),a}var _={test:function(e){var n="connection"===e.name.value;return n&&(!e.arguments||e.arguments.some(function(e){return"key"===e.name.value})),n}};function w(e,n,t){return void 0===t&&(t=!0),n&&n.selections&&n.selections.some(function(n){return I(e,n,t)})}function I(e,n,t){return void 0===t&&(t=!0),!l(n)||!!n.directives&&(n.directives.some(V(e))||t&&w(e,n.selectionSet,t))}function N(n,r){var i=function(e){return function(n){return e.some(function(e){return n.value&&"Variable"===n.value.kind&&n.value.name&&(e.name===n.value.name.value||e.test&&e.test(n))})}}(n);return E((0,e.visit)(r,{OperationDefinition:{enter:function(e){return(0,t.__assign)({},e,{variableDefinitions:e.variableDefinitions.filter(function(e){return!n.some(function(n){return n.name===e.variable.name.value})})})}},Field:{enter:function(e){if(n.some(function(e){return e.remove})){var t=0;if(e.arguments.forEach(function(e){i(e)&&(t+=1)}),1===t)return null}}},Argument:{enter:function(e){if(i(e))return null}}}))}function q(n,t){function r(e){if(n.some(function(n){return n.name===e.name.value}))return null}return E((0,e.visit)(t,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}var M="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product);exports.canUseWeakMap=M;var A=Object.prototype.toString;function J(){return"undefined"!=typeof process?"production":"development"}function P(e){return J()===e}function L(){return!0===P("production")}function Q(){return!0===P("development")}function T(){return!0===P("test")}var W=Object.prototype.hasOwnProperty;function z(e){var n=e[0]||{},t=e.length;if(t>1){var r=[];n=K(n,r);for(var i=1;i<t;++i)n=C(n,e[i],r)}return n}function B(e){return null!==e&&"object"==typeof e}function C(e,n,t){return B(n)&&B(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=K(e,t)),Object.keys(n).forEach(function(r){var i=n[r];if(W.call(e,r)){var o=e[r];i!==o&&(e[r]=C(K(o,t),i,t))}else e[r]=i}),e):n}function K(e,n){return null!==e&&"object"==typeof e&&n.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):(0,t.__assign)({__proto__:Object.getPrototypeOf(e)},e),n.push(e)),e}var R=Object.create({});
